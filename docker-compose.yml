version: '3.9'

services:
  favsapi:
    image: "registry.gitlab.com/v.rianov/favs-backend:develop"
    environment:
      FIRESTORE_PROJECT_ID: ${FIRESTORE_PROJECT_ID}
      SERVICE_ACCOUNT_PATH: /src/service-account.json
      SPREADSHEET_ID: ${SPREADSHEET_ID}
      SHEETS_SERVICE_ACCOUNT_PATH: /src/credentials.json
      SHEETS_TOKEN_PATH: /src/token.json
      MAPS_API_KEY: ${MAPS_API_KEY}
      PLACES_BUCKET_ID: ${PLACES_BUCKET_ID}
      STRIPE_SECRET_KEY: ${STRIPE_SECRET_KEY}
      SERVICE_TOKEN: ${SERVICE_TOKEN}
    volumes:
      - /home/slavaryanov:/src
    command: ./favsapi
    ports:
      - 8080:8080
